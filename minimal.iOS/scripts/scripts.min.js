var demo=false,isDemo,date,time,yqlWeather,weather,mios;isDemo=function(){$(".weather .icon").removeClass("loading").attr("data-icon","d");$(".weather .temp").text("98°")};date=function(a){var b=function(){var i=new Date(),d=i.getDate(),h=i.getDay(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=i.getMonth(),f=["January","February","March","April","May","June","July","August","September","October","November","December"],e=[c[h],f[g],d];return e};$(a).find("span").text(b()[0]+", "+b()[1]+" "+b()[2])};time=function(a){var b=function(){var d=new Date(),c=d.getHours(),e=d.getMinutes(),f=[];c=(c>12)?c-12:c;e=(e<10?"0":"")+e;c=(c==0)?12:c;f=[c,e];return f};$(a).find(".hour").text(b()[0]);$(a).find(".min").text(b()[1])};yqlWeather=function(c,d){var b,a="http://query.yahooapis.com/v1/public/yql?format=json&diagnostics=true&callback=?&q=";if(c.zip!==""){a+='select * from weather.forecast where location in ("'+c.zip+'") and u="'+c.unit+'"'}else{console.log("Invalid location")}b=$.ajax({url:a,dataType:"jsonp",jsonp:"callback",jsonpCallback:"cbfunc",success:d});return b};weather=function(c){var e={zip:"15224",unit:"f"},b=$.extend(e,c),a={0:"a",1:"a",2:"m",3:"i",4:"i",5:"o",6:"p",7:"p",8:"j",9:"j",10:"k",11:"k",12:"k",13:"n",14:"n",15:"o",16:"o",17:"p",18:"p",19:"c",20:"c",21:"c",22:"c",23:"a",24:"a",25:"b",26:"h",27:"g",28:"f",29:"g",30:"f",31:"e",32:"d",33:"g",34:"f",35:"p",36:"d",37:"i",38:"i",39:"i",40:"k",41:"o",42:"o",43:"o",44:"h",45:"k",46:"o",47:"k",3200:"t",},d=function(f,g){var i=g.query.results.channel.item.condition,h=[];if(i==null){console.log("Error retrieving data");return}h.tempC=i.temp;h.tempF=h.tempC;h.code=i.code;return h};yqlWeather(b,function(f){var g=d(b,f);$(".weather .icon").removeClass("loading").attr("data-icon",a[g.code]);$(".weather .temp").text(function(){if(b.unit=="c"){return g.tempC+"°"}else{return g.tempF+"°"}})})};mios=function(a){date(".date");time(".clock");setInterval(function(){date(".date");time(".clock")},1000);if(demo==true){isDemo()}else{weather({zip:a.zip,unit:a.unit})}};